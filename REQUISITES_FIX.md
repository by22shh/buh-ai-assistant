# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º–∏

## –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –≤ –∞–¥–º–∏–Ω–∫–µ –≤—ã–±–∏—Ä–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ 2 –ø–æ–ª—è (–ò–ù–ù –∏ –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ), –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –≤—Å–µ 15 –ø–æ–ª–µ–π.

## –ü—Ä–∏—á–∏–Ω—ã
1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ API** - –æ–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ (–¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)
2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–µ–π** - –≤ –∞–¥–º–∏–Ω–∫–µ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –≤—Å–µ –ø–æ–ª—è, –≤–∫–ª—é—á–∞—è –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ (enabled: false)

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω –ø—É–±–ª–∏—á–Ω—ã–π endpoint –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤
**–§–∞–π–ª:** `/src/app/api/template-configs/[code]/route.ts`

```typescript
// –ù–æ–≤—ã–π –ø—É–±–ª–∏—á–Ω—ã–π endpoint (–¥–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º)
GET /api/template-configs/:code
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –¥–ª—è —à–∞–±–ª–æ–Ω–∞
- –î–æ—Å—Ç—É–ø–µ–Ω –≤—Å–µ–º –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (–Ω–µ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∞–º)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞
**–§–∞–π–ª:** `/src/app/doc/[id]/requisites/page.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ó–∞–º–µ–Ω—ë–Ω endpoint —Å `/api/admin/template-configs/:code` –Ω–∞ `/api/template-configs/:code`
- –£–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `user.role === 'admin'`
- –¢–µ–ø–µ—Ä—å –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã

**–î–æ:**
```typescript
if (templateCode && user && user.role === 'admin') {
  fetch(`/api/admin/template-configs/${templateCode}`)
```

**–ü–æ—Å–ª–µ:**
```typescript
if (templateCode && user) {
  fetch(`/api/template-configs/${templateCode}`)
```

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω–∫–µ
**–§–∞–π–ª:** `/src/app/admin/templates/[code]/requisites/page.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø–æ–ª–µ–π (enabled: true)
- –¢–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–±—Ä–∞–Ω—ã –≤ –∞–¥–º–∏–Ω–∫–µ

**–î–æ:**
```typescript
fields: fields.sort((a, b) => a.order - b.order)
```

**–ü–æ—Å–ª–µ:**
```typescript
const enabledFields = fields.filter(field => field.enabled);
fields: enabledFields.sort((a, b) => a.order - b.order)
```

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∫—É: `/admin/templates/:code/requisites`
2. **–í–∫–ª—é—á–∏—Ç–µ** –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è (—á–µ–∫–±–æ–∫—Å —Å–ª–µ–≤–∞)
3. **–û—Ç–∫–ª—é—á–∏—Ç–µ** –Ω–µ–Ω—É–∂–Ω—ã–µ –ø–æ–ª—è
4. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é"**
5. –£–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ (2 –ø–æ–ª–µ–π)" ‚úÖ

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1. –í—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω –¥–æ–∫—É–º–µ–Ω—Ç–∞
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã
3. –£–≤–∏–¥–∏—Ç–µ **—Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–æ–ª—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2 –≤–º–µ—Å—Ç–æ 15) ‚úÖ

## Fallback-–ª–æ–≥–∏–∫–∞

–ï—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ (404):
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è **9 –±–∞–∑–æ–≤—ã—Ö –ø–æ–ª–µ–π** (name_full, inn, address_legal, email, head_title, head_fio, bank_bik, bank_name, bank_rs)
- –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã –¥–∞–∂–µ –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## –ü—Ä–æ–≤–µ—Ä–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–±–æ—Ä–∫—É:
```bash
npm run build
```
‚úÖ –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–Ω—Ç–µ—Ä:
```bash
npm run lint
```
‚úÖ –û—à–∏–±–æ–∫ –Ω–µ—Ç

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. –ó–∞–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∫—É –ø–æ–¥ –∞–¥–º–∏–Ω–æ–º
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ 2 –ø–æ–ª—è –¥–ª—è —à–∞–±–ª–æ–Ω–∞ Test2
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ
4. –ó–∞–π–¥–∏—Ç–µ –ø–æ–¥ –æ–±—ã—á–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
5. –°–æ–∑–¥–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç Test2
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ 2 –ø–æ–ª—è ‚úÖ

## API Endpoints

### –ü—É–±–ª–∏—á–Ω—ã–µ (–¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π):
- `GET /api/template-configs/:code` - –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤

### –ê–¥–º–∏–Ω—Å–∫–∏–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è admin):
- `GET /api/admin/template-configs/:code` - –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- `PUT /api/admin/template-configs/:code` - —Å–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- `DELETE /api/admin/template-configs/:code` - —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç **—Ç–æ–ª—å–∫–æ —Ç–µ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–∏–ª –∞–¥–º–∏–Ω**
‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π
‚úÖ Fallback-–ª–æ–≥–∏–∫–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚úÖ –ö–æ–¥ —á–∏—Å—Ç—ã–π, –±–µ–∑ –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 10 –Ω–æ—è–±—Ä—è 2025
**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:** 3
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

