# ========================================
# БУХГАЛТЕРСКИЙ ИИ-ПОМОЩНИК
# Environment Variables Template
# ========================================

# ========================================
# DATABASE (REQUIRED)
# ========================================
DATABASE_URL="postgresql://user:password@host:5432/database?sslmode=require"
# Используйте Neon PostgreSQL для production: https://neon.tech
# Пример: postgresql://neondb_owner:password@ep-xxx.aws.neon.tech/neondb?sslmode=require

# ========================================
# JWT AUTHENTICATION (REQUIRED)
# ========================================
JWT_SECRET="your-random-secret-key-min-32-characters-long"
# Генерация: openssl rand -base64 32
JWT_EXPIRES_IN="7d"

# ========================================
# EMAIL SETTINGS (REQUIRED for production)
# ========================================
# Gmail для отправки кодов авторизации
# Инструкция:
# 1. Используйте свой Gmail аккаунт
# 2. Создайте "Пароль приложения" в настройках Google:
#    https://myaccount.google.com/apppasswords
# 3. Укажите email и пароль приложения ниже

EMAIL_USER="your.email@gmail.com"
EMAIL_PASSWORD="your_app_password_here"

# ⚠️ Если не настроено - код будет возвращаться в API ответе (небезопасно!)

# ========================================
# OPENAI API (REQUIRED FOR AI FEATURES)
# ========================================
# Получите ключ на: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-your_openai_api_key_here"
OPENAI_MODEL="gpt-4o-mini"
OPENAI_MAX_TOKENS="2000"
OPENAI_TEMPERATURE="0.7"

# ⚠️ БЕЗ КЛЮЧА ИИ-ГЕНЕРАЦИЯ НЕ РАБОТАЕТ!
# Нет mock-режима, только production API

# ========================================
# APPLICATION SETTINGS
# ========================================
NODE_ENV="production"
NEXT_PUBLIC_APP_URL="https://your-app.netlify.app"

# ========================================
# ADMIN CONFIGURATION
# ========================================
NEXT_PUBLIC_ADMIN_EMAIL="admin@example.com"
# Email администратора для автоматического назначения роли admin

# ========================================
# DEMO/TRIAL SETTINGS (OPTIONAL)
# ========================================
NEXT_PUBLIC_DEMO_DOCUMENTS_LIMIT="5"
# Лимит документов для пробного периода
DEMO_ACCESS_DAYS="30"
# Длительность пробного периода в днях

# ========================================
# UPSTASH REDIS - RATE LIMITING (OPTIONAL)
# ========================================
# Получите на: https://upstash.com
UPSTASH_REDIS_REST_URL="https://your-redis.upstash.io"
UPSTASH_REDIS_REST_TOKEN="your-redis-token"

# Если не настроено - rate limiting отключен
# Graceful degradation - приложение работает без этого

# ========================================
# SENTRY ERROR MONITORING (OPTIONAL)
# ========================================
# Получите на: https://sentry.io
SENTRY_DSN="https://...@sentry.io/..."
SENTRY_ORG="your-org"
SENTRY_PROJECT="your-project"
SENTRY_AUTH_TOKEN="your-auth-token"

# Если не настроено - мониторинг отключен
# Приложение работает без этого

# ========================================
# NOTES
# ========================================
# ✅ DEMO MODE REMOVED - все mock-режимы удалены
# ⚠️ Auth4App и OpenAI теперь ОБЯЗАТЕЛЬНЫ
# ⚠️ Без ключей авторизация и ИИ НЕ РАБОТАЮТ
# ✅ Production-ready конфигурация
# ✅ Graceful degradation для опциональных сервисов

# ========================================
# DEPLOYMENT CHECKLIST
# ========================================
# 1. ✅ Создайте PostgreSQL на Neon.tech
# 2. ✅ Получите Auth4App ключи
# 3. ✅ Получите OpenAI API ключ
# 4. ✅ Сгенерируйте JWT_SECRET (openssl rand -base64 32)
# 5. ✅ Добавьте все переменные в Netlify
# 6. ✅ Запустите миграции (bunx prisma migrate deploy)
# 7. ✅ Деплой!
