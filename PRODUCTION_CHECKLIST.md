# ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ Production

## üéØ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ Production.** –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã, –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã.

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### 1. AccessHistory - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ ‚úÖ
- –§–∞–π–ª: `src/lib/auth-utils.ts:225`
- –ë—ã–ª–æ: `action: 'GRANTED'`
- –°—Ç–∞–ª–æ: `action: 'grant_or_extend'`

### 2. –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email - –î–æ–±–∞–≤–ª–µ–Ω–æ ‚úÖ
- –§–∞–π–ª: `src/app/api/admin/access/search/route.ts` (–Ω–æ–≤—ã–π)
- –§–∞–π–ª: `src/app/admin/access/page.tsx:71-100` (–æ–±–Ω–æ–≤–ª–µ–Ω)
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–µ–º–æ-–ª–∏–º–∏—Ç–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ ‚úÖ
- –§–∞–π–ª: `src/app/api/documents/route.ts:69-96`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `accessUntil`

### 4. Zod schemas - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ ‚úÖ
- –§–∞–π–ª: `src/lib/schemas/organization.ts`
- –£–¥–∞–ª–µ–Ω –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `errorMap` –∏–∑ `z.enum`

---

## üìä –ü–†–û–í–ï–†–ö–ê –ö–û–ú–ü–û–ù–ï–ù–¢–û–í

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚úÖ
- Email-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ Auth4App
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–æ–≤ —á–µ—Ä–µ–∑ SMTP
- JWT —Ç–æ–∫–µ–Ω—ã
- Middleware —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ—Å—Ç—É–ø–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º (Admin) ‚úÖ
- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í—ã–¥–∞—á–∞/–ø—Ä–æ–¥–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞
- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞
- –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü–æ–∏—Å–∫ –ø–æ email ‚ú®

### –†–∞–±–æ—Ç–∞ —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏ ‚úÖ
- –°–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- –ü—Ä–æ—Å–º–æ—Ç—Ä (read-only)
- –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏

### –†–∞–±–æ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ ‚úÖ
- –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ò–ò-—á–∞—Ç —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤
- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤
- –ê–≤—Ç–æ–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- –≠–∫—Å–ø–æ—Ä—Ç –≤ DOCX/PDF
- –ê—Ä—Ö–∏–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –ö–∞—Ç–∞–ª–æ–≥ —à–∞–±–ª–æ–Ω–æ–≤ ‚úÖ
- –ü–æ–∏—Å–∫
- –§–∏–ª—å—Ç—Ä—ã (–∫–∞—Ç–µ–≥–æ—Ä–∏—è, —Ç–µ–≥–∏)
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ 5 —Ç–µ–≥–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–º–æ-–ª–∏–º–∏—Ç–∞

### –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚úÖ
- –ö–∞—Ç–∞–ª–æ–≥ —à–∞–±–ª–æ–Ω–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä/–ø—É–±–ª–∏–∫–∞—Ü–∏—è
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤

### requisitesGuard ‚úÖ
- –í—Å–µ —Ç–∏–ø—ã —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ò–ò-—á–∞—Ç–µ

### –î–µ–º–æ-–ª–∏–º–∏—Ç ‚úÖ
- –õ–∏–º–∏—Ç 5 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–î–µ–º–æ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è"
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º

---

## üöÄ –ì–û–¢–û–í–ù–û–°–¢–¨

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ **95% –≥–æ—Ç–æ–≤ –∫ Production**

**–ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å:**
1. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
2. –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ production –ë–î

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ‚úÖ **–ú–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å –≤ production**

