# üß™ –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

–ü–æ—à–∞–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:

- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- [ ] `EMAIL_USER` –∏ `EMAIL_PASSWORD` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Netlify
- [ ] –î–µ–ø–ª–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω
- [ ] –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω (–Ω–µ 404/502)

---

## üß™ –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ email.

### –®–∞–≥–∏

```
1. –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç ‚Üí /auth/login

2. –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ  –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É                 ‚îÇ
   ‚îÇ                                 ‚îÇ
   ‚îÇ  Email –∞–¥—Ä–µ—Å:                   ‚îÇ
   ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
   ‚îÇ  ‚îÇ your@email.com          ‚îÇ   ‚îÇ
   ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
   ‚îÇ                                 ‚îÇ
   ‚îÇ  [–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥]                 ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

3. –í–≤–µ—Å—Ç–∏ –ù–û–í–´–ô email (–Ω–∞–ø—Ä–∏–º–µ—Ä: test1@example.com)

4. –ù–∞–∂–∞—Ç—å "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥"

5. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ  –ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞               ‚îÇ
   ‚îÇ  test1@example.com              ‚îÇ
   ‚îÇ                                 ‚îÇ
   ‚îÇ  6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥:                 ‚îÇ
   ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
   ‚îÇ  ‚îÇ ______                  ‚îÇ   ‚îÇ
   ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
   ‚îÇ                                 ‚îÇ
   ‚îÇ  [–í–æ–π—Ç–∏]                        ‚îÇ
   ‚îÇ  [–ò–∑–º–µ–Ω–∏—Ç—å email]               ‚îÇ
   ‚îÇ  [–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ]       ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—á—Ç—É (test1@example.com)

7. –ù–∞–π—Ç–∏ –ø–∏—Å—å–º–æ —Å —Ç–µ–º–æ–π "–ö–æ–¥ –¥–ª—è –≤—Ö–æ–¥–∞"

8. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 123456)

9. –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç –∏ –≤–≤–µ—Å—Ç–∏ –∫–æ–¥

10. –ù–∞–∂–∞—Ç—å "–í–æ–π—Ç–∏"

11. –î–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏:
    - Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!"
    - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /templates (–¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
    - –ò–õ–ò —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /admin/templates (–¥–ª—è admin email)
```

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- Email —Å –∫–æ–¥–æ–º –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 10-30 —Å–µ–∫—É–Ω–¥
- –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –Ω—É–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –í –ë–î —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π User —Å —ç—Ç–∏–º email

### ‚ùå –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|---------|
| Email –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç | Gmail –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω | –°–º. `.same/EMAIL_SETUP_GUIDE.md` |
| 500 Error | –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ | –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é |
| "Invalid code" | –ö–æ–¥ –∏—Å—Ç–µ–∫ (>10 –º–∏–Ω) | –ó–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥ |
| –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ 404 | –ù–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã /templates | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–æ—É—Ç–∏–Ω–≥ Next.js |

---

## üß™ –°—Ü–µ–Ω–∞—Ä–∏–π 2: –í—Ö–æ–¥ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ.

### –®–∞–≥–∏

```
1. –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç ‚Üí /auth/login (–≤ –ù–û–í–û–ô –≤–∫–ª–∞–¥–∫–µ/–±—Ä–∞—É–∑–µ—Ä–µ)

2. –í–≤–µ—Å—Ç–∏ —Ç–æ—Ç –∂–µ email (test1@example.com)

3. –ù–∞–∂–∞—Ç—å "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥"

4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—á—Ç—É ‚Üí –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–π—Ç–∏ –ù–û–í–´–ô –∫–æ–¥

5. –í–≤–µ—Å—Ç–∏ –Ω–æ–≤—ã–π –∫–æ–¥

6. –í–æ–π—Ç–∏
```

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- –°—Ç–∞—Ä—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ
- –ü–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–¥ –∫–∞–∂–¥—ã–π —Ä–∞–∑
- –°—Ç–∞—Ä—ã–µ –∫–æ–¥—ã –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤–∏–¥–∏—Ç —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ (firstName, role, etc.)

---

## üß™ –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ê–¥–º–∏–Ω –¥–æ—Å—Ç—É–ø

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∞–¥–º–∏–Ω email –ø–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å admin.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–í Netlify Environment Variables –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
NEXT_PUBLIC_ADMIN_EMAIL=admin@example.com
```

### –®–∞–≥–∏

```
1. –û—Ç–∫—Ä—ã—Ç—å /auth/login

2. –í–≤–µ—Å—Ç–∏ –∞–¥–º–∏–Ω—Å–∫–∏–π email (admin@example.com)

3. –ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥ ‚Üí –≤–≤–µ—Å—Ç–∏ ‚Üí –≤–æ–π—Ç–∏

4. –î–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–Ω—É—Ç—å –Ω–∞ /admin/templates (–Ω–µ /templates)

5. –í –ë–î –ø—Ä–æ–≤–µ—Ä–∏—Ç—å role –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   SELECT role FROM "User" WHERE email = 'admin@example.com';

   –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: "admin"
```

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- –ê–¥–º–∏–Ω email –ø–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å "admin"
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /admin/* –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ /templates
- –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω—Å–∫–∏–º —Ñ—É–Ω–∫—Ü–∏—è–º

---

## üß™ –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ò—Å—Ç–µ–∫—à–∏–π –∫–æ–¥

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–æ–¥—ã –∏—Å—Ç–µ–∫–∞—é—Ç —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç.

### –®–∞–≥–∏

```
1. –ó–∞–ø—Ä–æ—Å–∏—Ç—å –∫–æ–¥ –¥–ª—è email

2. –ù–ï –≤–≤–æ–¥–∏—Ç—å –∫–æ–¥

3. –ü–æ–¥–æ–∂–¥–∞—Ç—å 11 –º–∏–Ω—É—Ç (–∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å expiresAt –≤ –ë–î)

4. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–≤–µ—Å—Ç–∏ –∫–æ–¥

5. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞: "–ù–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –∏—Å—Ç–µ–∫—à–∏–π –∫–æ–¥"

6. –ó–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥

7. –í–≤–µ—Å—Ç–∏ –Ω–æ–≤—ã–π –∫–æ–¥

8. –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å ‚úÖ
```

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- –°—Ç–∞—Ä—ã–µ –∫–æ–¥—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- –°–∏—Å—Ç–µ–º–∞ —Ç—Ä–µ–±—É–µ—Ç –Ω–æ–≤—ã–π –∫–æ–¥
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üß™ –°—Ü–µ–Ω–∞—Ä–∏–π 5: –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∫–∞–∂–¥—ã–π –∫–æ–¥ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.

### –®–∞–≥–∏

```
1. –ó–∞–ø—Ä–æ—Å–∏—Ç—å –∫–æ–¥

2. –í–≤–µ—Å—Ç–∏ –∫–æ–¥ ‚Üí –≤–æ–π—Ç–∏ ‚úÖ

3. –í—ã–π—Ç–∏ (–∏–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É)

4. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤–≤–µ—Å—Ç–∏ –¢–û–¢ –ñ–ï –∫–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ

5. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞: "–ù–µ–≤–µ—Ä–Ω—ã–π –∏–ª–∏ –∏—Å—Ç–µ–∫—à–∏–π –∫–æ–¥"
```

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- –ö–æ–¥ –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
- used = true –≤ –ë–î –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üß™ –°—Ü–µ–Ω–∞—Ä–∏–π 6: –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∫–æ–¥–∞

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ".

### –®–∞–≥–∏

```
1. –ó–∞–ø—Ä–æ—Å–∏—Ç—å –∫–æ–¥ –¥–ª—è email

2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω –≤–≤–æ–¥–∞ –∫–æ–¥–∞

3. –ù–∞–∂–∞—Ç—å "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ"

4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—á—Ç—É ‚Üí –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–π—Ç–∏ –ù–û–í–´–ô –∫–æ–¥

5. –í–≤–µ—Å—Ç–∏ –ù–û–í–´–ô –∫–æ–¥ ‚Üí –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å

6. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –°–¢–ê–†–´–ô –∫–æ–¥ ‚Üí –Ω–µ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å
```

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- –ú–æ–∂–Ω–æ –∑–∞–ø—Ä–æ—Å–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—è—Å—å –Ω–∞ —ç–∫—Ä–∞–Ω email
- –°—Ç–∞—Ä—ã–π –∫–æ–¥ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è
- –ù–æ–≤—ã–π –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üß™ –°—Ü–µ–Ω–∞—Ä–∏–π 7: –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π email

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é email.

### –®–∞–≥–∏

```
1. –í–≤–µ—Å—Ç–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π email:
   - "notanemail"
   - "test@"
   - "@example.com"
   - "test test@example.com"

2. –ù–∞–∂–∞—Ç—å "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥"

3. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞: "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å"
```

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ email –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–Ω—è—Ç–Ω–∞—è –æ—à–∏–±–∫–∞
- –ö–æ–¥ –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è

---

## üß™ –°—Ü–µ–Ω–∞—Ä–∏–π 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î

### –¶–µ–ª—å
–£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î.

### –ß–µ—Ä–µ–∑ Neon Console SQL Editor

```sql
-- 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É User
\d "User"

-- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ–ª–æ–Ω–∫–∏:
-- email (text, NOT NULL, UNIQUE)
-- emailVerified (boolean)
-- phone (text, nullable)

-- 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT id, email, role, "emailVerified", "createdAt"
FROM "User"
ORDER BY "createdAt" DESC
LIMIT 5;

-- 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å LoginToken
SELECT email, code, used, "expiresAt", "createdAt"
FROM "LoginToken"
ORDER BY "createdAt" DESC
LIMIT 10;

-- 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—Ç–∞—Ä—ã–µ –∫–æ–¥—ã —É–¥–∞–ª—è—é—Ç—Å—è
SELECT COUNT(*) FROM "LoginToken" WHERE used = true;

-- 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–µ–∫—à–∏–µ –∫–æ–¥—ã
SELECT COUNT(*) FROM "LoginToken"
WHERE "expiresAt" < NOW() AND used = false;
```

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- –í—Å–µ —Ç–µ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ User
- LoginToken —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–¥—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–¥—ã –ø–æ–º–µ—á–µ–Ω—ã used=true
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç schema.prisma

---

## üß™ –°—Ü–µ–Ω–∞—Ä–∏–π 9: JWT Token & Cookies

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ JWT —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç.

### –ß–µ—Ä–µ–∑ Chrome DevTools

```
1. –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É

2. –û—Ç–∫—Ä—ã—Ç—å DevTools (F12)

3. Application ‚Üí Cookies ‚Üí –≤–∞—à —Å–∞–π—Ç

4. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å cookie "token":
   - Name: token
   - Value: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
   - HttpOnly: true
   - Secure: true (–≤ production)
   - SameSite: Lax
   - Max-Age: 604800 (7 –¥–Ω–µ–π)

5. Network ‚Üí –ª—é–±–æ–π API –∑–∞–ø—Ä–æ—Å ‚Üí Headers

6. Request Headers –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
   - Cookie: token=eyJhbGci...
   - x-user-id: <uuid>
   - x-user-email: <email>
   - x-user-role: user/admin
```

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- JWT —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ httpOnly cookie
- –¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏
- Middleware –¥–æ–±–∞–≤–ª—è–µ—Ç x-user-* headers

---

## üß™ –°—Ü–µ–Ω–∞—Ä–∏–π 10: Logout

### –¶–µ–ª—å
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—ã—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### –®–∞–≥–∏

```
1. –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É

2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /api/auth/logout (–∏–ª–∏ –∫–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞)

3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DevTools ‚Üí Cookies

4. Cookie "token" –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–¥–∞–ª–µ–Ω–æ

5. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç—å /templates –∏–ª–∏ /admin

6. –î–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–Ω—É—Ç—å –Ω–∞ /auth/login
```

### ‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

- Cookie —É–¥–∞–ª–µ–Ω–æ
- –î–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –∑–∞–∫—Ä—ã—Ç
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ª–æ–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìä –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç

–ü–æ—Å–ª–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è         [ ] Pass [ ] Fail ‚îÇ
‚îÇ –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—Ö–æ–¥      [ ] Pass [ ] Fail ‚îÇ
‚îÇ –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ê–¥–º–∏–Ω –¥–æ—Å—Ç—É–ø        [ ] Pass [ ] Fail ‚îÇ
‚îÇ –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ò—Å—Ç–µ–∫—à–∏–π –∫–æ–¥        [ ] Pass [ ] Fail ‚îÇ
‚îÇ –°—Ü–µ–Ω–∞—Ä–∏–π 5: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ   [ ] Pass [ ] Fail ‚îÇ
‚îÇ –°—Ü–µ–Ω–∞—Ä–∏–π 6: –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞  [ ] Pass [ ] Fail ‚îÇ
‚îÇ –°—Ü–µ–Ω–∞—Ä–∏–π 7: –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π email    [ ] Pass [ ] Fail ‚îÇ
‚îÇ –°—Ü–µ–Ω–∞—Ä–∏–π 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î         [ ] Pass [ ] Fail ‚îÇ
‚îÇ –°—Ü–µ–Ω–∞—Ä–∏–π 9: JWT & Cookies       [ ] Pass [ ] Fail ‚îÇ
‚îÇ –°—Ü–µ–Ω–∞—Ä–∏–π 10: Logout             [ ] Pass [ ] Fail ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –í—Å–µ–≥–æ Pass: __ / 10                            ‚îÇ
‚îÇ –í—Å–µ–≥–æ Fail: __ / 10                            ‚îÇ
‚îÇ                                                ‚îÇ
‚îÇ –°—Ç–∞—Ç—É—Å: [ ] ‚úÖ –ì–û–¢–û–í–û  [ ] ‚ùå –¢–†–ï–ë–£–ï–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéâ –ï—Å–ª–∏ –≤—Å–µ —Ç–µ—Å—Ç—ã Pass

**–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!** –ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ! üéâ

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ rate limiting (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
2. –ö–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–π—Ç–µ email templates
3. –î–æ–±–∞–≤—å—Ç–µ –±—Ä–µ–Ω–¥–∏–Ω–≥
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π!

---

## üÜò –ï—Å–ª–∏ –µ—Å—Ç—å Fail

1. –ó–∞–ø–∏—à–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª Troubleshooting
3. –°–º. –ª–æ–≥–∏ Netlify Functions
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Environment Variables
5. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `.same/MIGRATION_GUIDE.md` ‚Üí Troubleshooting
- `.same/EMAIL_SETUP_GUIDE.md` ‚Üí Email –ø—Ä–æ–±–ª–µ–º—ã
- `.same/README.md` ‚Üí –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
