# üß™ –ò–ù–°–¢–†–£–ö–¶–ò–Ø: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ 5 —Ç–µ–≥–æ–≤

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–ª–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —à–∞–±–ª–æ–Ω–∞ –º–æ–∂–Ω–æ –±—ã–ª–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–≥–æ–≤, —á—Ç–æ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç –¢–ó.

**–¢–ó —Ç—Ä–µ–±—É–µ—Ç:** "–ë–æ–ª–µ–µ 5 —Ç–µ–≥–æ–≤ –¥–æ–±–∞–≤–∏—Ç—å **–ù–ï–õ–¨–ó–Ø**" (–ø—É–Ω–∫—Ç 8 –∏–∑ "–°—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω¬ª (Admin)")

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é `toggleTag()`, –∫–æ—Ç–æ—Ä–∞—è –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–±–æ—Ä –±–æ–ª–µ–µ 5 —Ç–µ–≥–æ–≤ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç toast —Å –æ—à–∏–±–∫–æ–π.

---

## –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞

1. **–í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω:**
   - –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞: `+7 999 999-99-99`
   - –ö–æ–¥: –ª—é–±—ã–µ 4 —Ü–∏—Ñ—Ä—ã

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ —Å–æ–∑–¥–∞–Ω–∏—é —à–∞–±–ª–æ–Ω–∞:**
   - –ù–∞–∂–º–∏—Ç–µ "–ö —à–∞–±–ª–æ–Ω–∞–º" ‚Üí "–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω"
   - –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ URL: `/admin/templates/create`

3. **–ü–æ–ø—ã—Ç–∞–π—Ç–µ—Å—å –≤—ã–±—Ä–∞—Ç—å –±–æ–ª—å—à–µ 5 —Ç–µ–≥–æ–≤:**
   - –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –¥–æ –±–ª–æ–∫–∞ "–¢–µ–≥–∏"
   - –í—ã–±–µ—Ä–∏—Ç–µ 5 –ª—é–±—ã—Ö —Ç–µ–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –±–∞–Ω–∫, –æ–ø–ª–∞—Ç–∞, –ø–æ—Å—Ç–∞–≤–∫–∞, —É—Å–ª—É–≥–∏/—Ä–∞–±–æ—Ç—ã, –∫–∞–¥—Ä—ã)
   - –ü–æ–ø—ã—Ç–∞–π—Ç–µ—Å—å –≤—ã–±—Ä–∞—Ç—å 6-–π —Ç–µ–≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –∑–∞—Ä–ø–ª–∞—Ç–∞)

4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - ‚úÖ Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–ú–∞–∫—Å–∏–º—É–º 5 —Ç–µ–≥–æ–≤ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å"
   - ‚úÖ 6-–π —Ç–µ–≥ –ù–ï –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è (–≥–∞–ª–æ—á–∫–∞ –Ω–µ —Å—Ç–∞–≤–∏—Ç—Å—è)
   - ‚úÖ –í –∑–∞–≥–æ–ª–æ–≤–∫–µ –±–ª–æ–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è: "–¢–µ–≥–∏ (–≤—ã–±—Ä–∞–Ω–æ: 5)"

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —à–∞–±–ª–æ–Ω–∞

1. **–í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –≤–æ—à–ª–∏)

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —à–∞–±–ª–æ–Ω–∞:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ `/admin/templates`
   - –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π —à–∞–±–ª–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ü–ª–∞—Ç—ë–∂–Ω–æ–µ –ø–æ—Ä—É—á–µ–Ω–∏–µ")
   - –ù–∞–∂–º–∏—Ç–µ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏" (–∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ `/admin/templates/payment_order/edit`)

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–≥–æ–≤:**
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –±–ª–æ–∫ "–¢–µ–≥–∏ (–≤—ã–±—Ä–∞–Ω–æ: X)"
   - –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–æ –º–µ–Ω—å—à–µ 5 —Ç–µ–≥–æ–≤, –¥–æ–±–∞–≤—å—Ç–µ –¥–æ 5

4. **–ü–æ–ø—ã—Ç–∞–π—Ç–µ—Å—å –¥–æ–±–∞–≤–∏—Ç—å 6-–π —Ç–µ–≥:**
   - –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É –Ω–∞ –ª—é–±–æ–º –Ω–µ–≤—ã–±—Ä–∞–Ω–Ω–æ–º —Ç–µ–≥–µ

5. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - ‚úÖ Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–ú–∞–∫—Å–∏–º—É–º 5 —Ç–µ–≥–æ–≤ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å"
   - ‚úÖ 6-–π —Ç–µ–≥ –ù–ï –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è
   - ‚úÖ –°—á—ë—Ç—á–∏–∫ –æ—Å—Ç–∞—ë—Ç—Å—è "–¢–µ–≥–∏ (–≤—ã–±—Ä–∞–Ω–æ: 5)"

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

### –§–∞–π–ª 1: `src/app/admin/templates/create/page.tsx`

```typescript
const toggleTag = (tagCode: string) => {
  if (formData.tags.includes(tagCode)) {
    setFormData({ ...formData, tags: formData.tags.filter(t => t !== tagCode) });
  } else {
    // –¢–ó: –ú–∞–∫—Å–∏–º—É–º 5 —Ç–µ–≥–æ–≤
    if (formData.tags.length >= 5) {
      toast.error("–ú–∞–∫—Å–∏–º—É–º 5 —Ç–µ–≥–æ–≤ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å");
      return; // ‚Üê –≠—Ç–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
    }
    setFormData({ ...formData, tags: [...formData.tags, tagCode] });
  }
};
```

### –§–∞–π–ª 2: `src/app/admin/templates/[code]/edit/page.tsx`

–¢–∞ –∂–µ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∞ –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### ‚úÖ –ß—Ç–æ –µ—â—ë –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **–°–Ω—è—Ç–∏–µ –≥–∞–ª–æ—á–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   - –í—ã–±–µ—Ä–∏—Ç–µ 5 —Ç–µ–≥–æ–≤
   - –°–Ω–∏–º–∏—Ç–µ –≥–∞–ª–æ—á–∫—É —Å –æ–¥–Ω–æ–≥–æ –∏–∑ –Ω–∏—Ö
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å—á—ë—Ç—á–∏–∫ —Å—Ç–∞–ª "–¢–µ–≥–∏ (–≤—ã–±—Ä–∞–Ω–æ: 4)"
   - –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π —Ç–µ–≥ (–¥–æ 5 –º–∞–∫—Å–∏–º—É–º)

2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã:**
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–≤–Ω–æ 5 —Ç–µ–≥–æ–≤
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
   - –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω" (–∏–ª–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è")
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–æ—Ä–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ

3. **–°—á—ë—Ç—á–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:**
   - –ü—Ä–∏ 0 —Ç–µ–≥–∞—Ö: "–¢–µ–≥–∏ (–≤—ã–±—Ä–∞–Ω–æ: 0)"
   - –ü—Ä–∏ 3 —Ç–µ–≥–∞—Ö: "–¢–µ–≥–∏ (–≤—ã–±—Ä–∞–Ω–æ: 3)"
   - –ü—Ä–∏ 5 —Ç–µ–≥–∞—Ö: "–¢–µ–≥–∏ (–≤—ã–±—Ä–∞–Ω–æ: 5)"

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Toast –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `sonner` –∏ –≤ layout.tsx –¥–æ–±–∞–≤–ª–µ–Ω `<Toaster />`

### –ü—Ä–æ–±–ª–µ–º–∞ 2: 6-–π —Ç–µ–≥ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `toggleTag` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ `onCheckedChange` —á–µ–∫–±–æ–∫—Å–∞:
```tsx
<Checkbox
  checked={formData.tags.includes(tag.code)}
  onCheckedChange={() => toggleTag(tag.code)}
/>
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –°—á—ë—Ç—á–∏–∫ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `formData.tags.length`:
```tsx
<CardTitle>–¢–µ–≥–∏ (–≤—ã–±—Ä–∞–Ω–æ: {formData.tags.length})</CardTitle>
```

---

## –°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- [ ] –í–∞—Ä–∏–∞–Ω—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
- [ ] –í–∞—Ä–∏–∞–Ω—Ç 2: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
- [ ] –°–Ω—è—Ç–∏–µ –≥–∞–ª–æ—á–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã —Å 5 —Ç–µ–≥–∞–º–∏
- [ ] –°—á—ë—Ç—á–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–º–µ—Ç—å—Ç–µ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ!**

---

## –°–≤—è–∑—å —Å –¢–ó

**–°—Å—ã–ª–∫–∞ –Ω–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –¢–ó:**
- –§–∞–π–ª: `–°—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω¬ª (Admin)`
- –ü—É–Ω–∫—Ç 8 "–ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏": "–ë–æ–ª–µ–µ 5 —Ç–µ–≥–æ–≤ –¥–æ–±–∞–≤–∏—Ç—å **–ù–ï–õ–¨–ó–Ø**"

**–í–µ—Ä—Å–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** v18
**–§–∞–π–ª –æ—Ç—á—ë—Ç–∞:** `.same/audit-tz.md`
