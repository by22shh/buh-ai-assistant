# Страница «Мой архив документов» (User)

**Коротко:** простая таблица со всеми собранными пользователем документами.

**Никаких статусов** («черновик/готов/экспортирован/продолжить») — только список и **повторное скачивание** в DOCX/PDF.

## Связанные страницы

- [Заполнение реквизитов](%D0%A1%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0%20%C2%AB%D0%97%D0%B0%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%20%D1%80%D0%B5%D0%BA%D0%B2%D0%B8%D0%B7%D0%B8%D1%82%D0%BE%D0%B2%C2%BB%20(User)%2028feb7bb7409809eac65ca6a6512831e.md) — исходная точка сборки документов.
- [Тело документа — чат](%D0%A1%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0%20%C2%AB%D0%A2%D0%B5%D0%BB%D0%BE%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%20%E2%80%94%20%D1%87%D0%B0%D1%82%C2%BB%20(User)%2028feb7bb74098049b036fe710b2cce31.md) — если шаблон с чатом.
- [Страница с шаблонами](../%D0%9A%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3%20%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%BE%D0%B2%20(Admin)%20290eb7bb740980fbb1f9e84a8df0ee21/%D0%9A%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3%20%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%BE%D0%B2%20%E2%80%94%20%D0%90%D0%B4%D0%BC%D0%B8%D0%BD%20(Admin)%2028aeb7bb740980fcac13d4842d08e63d.md) — вернуться и собрать новый документ.
- [Демо закончился](%D0%A1%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0%20%C2%AB%D0%94%D0%B5%D0%BC%D0%BE%20%D0%B7%D0%B0%D0%BA%D0%BE%D0%BD%D1%87%D0%B8%D0%BB%D1%81%D1%8F%C2%BB%20(User)%2028feb7bb740980168788f46a803fbc3f.md) — в архив доступ остаётся, скачать можно всегда.

---

## Вход и маршрут

- Навигация: «Профиль → Мой архив»
- Маршрут: `/docs`

---

## Роли и доступ

- Только **пользователь** (видит **только свои** документы).

---

## Макет (desktop)

- Заголовок: **Мой архив документов**
- Таблица без пагинации на MVP (ленивая подгрузка по скроллу допустима)

**Колонки (минимум):**

1. **Название** — строка (автогенерируется как `<Название шаблона> — <дата>` при сборке; можно хранить кастомное имя)
2. **Шаблон** — `templateCode` (человеко-читаемое имя шаблона)
3. **Версия** — `templateVersion` (например, `v1.0`)
4. **Организация** — короткое имя организации или «—», если не выбрана
5. **Создан** — дата/время (локаль пользователя)
6. **Действия** — кнопки:
    - **Скачать DOCX**
    - **Скачать PDF**

> Никаких «Открыть/Редактировать/Продолжить» — по требованию убрано.
> 

---

## Поведение

- Нажатие **Скачать DOCX/PDF** → запрос на сервер с `docId`, отдаём готовый файл.
- Если файл физически не хранится, сервер **собирает заново** из слепка документа (см. «Модель данных»), и отдаёт пользователю.

---

## Модель данных (храним на стороне сервера)

```json
{
  "docId": "<uuid>",
  "title": "<string>",                       // отображаемое «Название»
  "templateCode": "<string>",                // код шаблона
  "templateName": "<string>",                // человеко-читаемое имя
  "templateVersion": "vMAJOR.MINOR[.PATCH]", // версия шаблона на момент сборки
  "organizationId": "<uuid|null>",
  "organizationName": "<string|null>",
  "hasBodyChat": true,
  "bodyText": "<string|null>",               // текст тела (если был чат)
  "requisites": { /* snapshot по JSON-schema */ },
  "createdAt": "<iso8601>",
  "createdBy": "<userId>"
}

```

> requisites — снимок на момент сборки; изменений «задним числом» нет.
> 

---

## Маршруты действий

- **Скачать DOCX:** `POST /docs/:docId/export/docx`
- **Скачать PDF:** `POST /docs/:docId/export/pdf`

---

## Пустое состояние

- Текст: «У вас пока нет документов»
- Подсказка-линк: «Вернуться к выбору шаблона» → `/templates`

---

## Критерии приёмки (QA)

1. Таблица отображает только поля: Название, Шаблон, Версия, Организация, Создан, Действия.
2. У каждой строки **только** две кнопки: «Скачать DOCX» и «Скачать PDF».
3. По клику файл скачивается (если нужно — собирается на сервере из слепка).
4. Нет статусов, нет инлайн-редактирования, нет просмотра, нет поиска/фильтров/меток.
5. Пустое состояние корректно показывается для пустого архива.