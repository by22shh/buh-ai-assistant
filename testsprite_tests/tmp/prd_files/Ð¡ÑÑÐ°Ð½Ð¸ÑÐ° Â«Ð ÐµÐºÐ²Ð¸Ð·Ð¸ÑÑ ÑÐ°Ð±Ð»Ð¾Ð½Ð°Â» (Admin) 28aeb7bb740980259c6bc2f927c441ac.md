# Страница «Реквизиты шаблона» (Admin)

## Связанные страницы

- [Поля реквизитов](../%D0%A0%D0%B5%D0%BA%D0%B2%D0%B8%D0%B7%D0%B8%D1%82%D1%8B%20%D0%B8%20%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20290eb7bb7409800cb033fe6f585d9f78/%D0%9F%D0%BE%D0%BB%D1%8F%20%D1%80%D0%B5%D0%BA%D0%B2%D0%B8%D0%B7%D0%B8%D1%82%D0%BE%D0%B2%2028aeb7bb74098001a86eef46f1ae7bee.md) — канонические system_name и метки.
- [JSON-shema](../%D0%A0%D0%B5%D0%BA%D0%B2%D0%B8%D0%B7%D0%B8%D1%82%D1%8B%20%D0%B8%20%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%20290eb7bb7409800cb033fe6f585d9f78/JSON-shema%2028aeb7bb740980ae995ff9b5c20b86de.md) — форматы и валидации полей.
- [Заполнение реквизитов (User)](../%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D0%BC%D0%B8%20(User)%20290eb7bb7409804da0aed86f3433deb2/%D0%A1%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0%20%C2%AB%D0%97%D0%B0%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%20%D1%80%D0%B5%D0%BA%D0%B2%D0%B8%D0%B7%D0%B8%D1%82%D0%BE%D0%B2%C2%BB%20(User)%2028feb7bb7409809eac65ca6a6512831e.md) — как отмеченные поля отображаются пользователю.
- [Как работает автоподстановка…](%D0%9A%D0%B0%D0%BA%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82%20%D0%B0%D0%B2%D1%82%D0%BE%D0%BF%D0%BE%D0%B4%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0%20%D0%BF%D1%80%D0%B8%20%D0%9D%D0%9E%D0%92%D0%9E%D0%99%20%D0%B2%D0%B5%D1%80%D1%81%D0%B8%D0%B8%20%D1%88%D0%B0%D0%B1%D0%BB%2028aeb7bb74098065891bc846b53aff14.md) — одноразовая автоподстановка по system_name при создании.

## Страница «Реквизиты шаблона» (Admin)

**Задача:** админ отмечает галочками, **какие реквизиты нужны** для данного шаблона.

**Автоподстановка:** **все возможные** отмеченные реквизиты при создании документа **автоматически подтягиваются** из выбранной пользователем организации (если там заполнены). **Никаких отдельных настройек автоподстановки нет.**

---

## Доступ и маршруты

- Доступ: **только админ**.
- Примеры входа:
    - Из **Создать шаблон (Admin)** → «Назначить реквизиты»
    - Из **Редактировать шаблон (Admin)** → «Реквизиты»
    - Из **Просмотр шаблона (Admin)** → «Реквизиты»
- URL (пример): `/admin/templates/:code/requisites`

---

## Макет (desktop)

### Хедер

- Заголовок: **Реквизиты шаблона**
- Подзаголовок: `<Название шаблона>` (`code`)
- Справа: **Сохранить** (primary), **Отмена** (secondary)

### Тело страницы — чекбоксы по группам

Простой список **чекбоксов** с системными именами и человеко-читаемыми метками. Никаких секций/перетаскиваний, только группы для визуального порядка.

1. **Общие данные**
    - [ ]  Полное наименование — `name_full`
    - [ ]  Краткое наименование — `name_short`
    - [ ]  Тип субъекта — `subject_type`
2. **Идентификаторы**
    - [ ]  ИНН — `inn`
    - [ ]  КПП (только юрлицо) — `kpp`
    - [ ]  ОГРН (юрлицо) — `ogrn`
    - [ ]  ОГРНИП (ИП) — `ogrnip`
    - [ ]  ОКПО — `okpo`
    - [ ]  ОКВЭД — `okved`
3. **Адреса и контакты**
    - [ ]  Юридический адрес — `address_legal`
    - [ ]  Почтовый адрес — `address_postal`
    - [ ]  Телефон — `phone`
    - [ ]  E-mail — `email`
    - [ ]  Сайт — `website`
4. **Руководитель и полномочия**
    - [ ]  Должность руководителя — `head_title`
    - [ ]  ФИО руководителя — `head_fio`
    - [ ]  Основание полномочий — `authority_base`
    - [ ]  Номер доверенности — `poa_number`
    - [ ]  Дата доверенности — `poa_date`
5. **Банковские реквизиты**
    - [ ]  БИК — `bank_bik`
    - [ ]  Наименование банка — `bank_name`
    - [ ]  Корреспондентский счёт — `bank_ks`
    - [ ]  Расчётный счёт — `bank_rs`
6. **Дополнительно**
    - [ ]  Помета о печати/подписи — `seal_note`
    - [ ]  Комментарии — `notes`

> Метки и системные имена — строго из «Поля реквизитов» / «JSON-shema».
> 

---

## Поведение

- Админ **просто ставит/снимает галочки** напротив нужных полей.
- **Обязательность** на стороне пользователя обеспечивается валидациями формы (по вашей логике для конкретного шаблона можно трактовать отмеченные поля как обязательные или как «к вводу» — выберите один режим на уровне системы и применяйте единообразно; на этом экране доп.настроек нет).
- **Автоподстановка:** если поле отмечено и оно присутствует в данных выбранной организации пользователя — значение **подставляется автоматически**. Если у пользователя организации нет или в ней нет нужного значения — поле остаётся пустым для ручного ввода.
- Никаких локальных подсказок/лейблов/переименований — **только чекбоксы**.
- Сохранение записывает список выбранных `system_name[]` для **текущей версии** шаблона.

---

## Кнопки

- **Сохранить** — фиксирует набор выбранных реквизитов для шаблона.
- **Отмена** — возврат на предыдущую страницу (создание/редактирование/просмотр шаблона).

---

## Совместимость и версии (просто правило)

- Выбранные реквизиты хранятся **на уровне версии шаблона**.
- Изменения не ломают ранее созданные документы; **новые** документы создаются по **актуальной** опубликованной версии.

---

## Пример модели (минимально)

```json
{
  "templateCode": "employment_contract",
  "version": "v1.0",
  "requisites": [
    "name_full",
    "inn",
    "address_legal",
    "head_fio",
    "bank_bik",
    "bank_name",
    "bank_rs"
  ],
  "updatedAt": "2025-10-12T12:00:00Z",
  "updatedBy": "admin_id"
}

```

---

## Критерии приёмки (QA)

1. Экран содержит **только чекбоксы** по фиксированному списку полей из справочника, разделённые на группы для удобства чтения.
2. Сохранение записывает список `system_name[]` без дополнительных свойств/настроек.
3. При создании документа значения для отмеченных реквизитов **автоматически** подтягиваются из выбранной пользователем организации (если есть), иначе поля пустые для ручного ввода.
4. Изменение набора реквизитов не влияет на ранее созданные документы.
5. Доступ к экрану — только у админа; переходы из страниц «Создать/Редактировать/Просмотр шаблона» работают.